# Fisherman

Fisherman是一个使用 Python 和 Tkinter 构建的 GUI 应用程序，专为《魔兽世界 (WoW)》游戏设计，通过检测特定音频信号实现自动钓鱼的功能。该应用程序提供基于音频特征匹配的自动化键盘操作，主要用于检测特定音频信号并执行预定义的操作。

## 功能概述

- **音频匹配**：监听实时音频并与预设目标音频进行特征比较，包括 MFCC 和 RMS。
- **键盘模拟操作**：在检测到匹配音频时，自动模拟按键操作，可以自定义按键。
- **定时按键功能**：支持设置多个定时按键，用于在特定时间间隔自动执行某些操作。
- **运行时长显示**：显示程序的运行时长，便于用户监控程序的运行状态。

## 安装要求

- Python 3.x
- 所需 Python 库：
  - tkinter (标准库，通常随 Python 一起安装)
  - librosa：用于音频信号处理
  - numpy：用于数值计算
  - pyaudio：用于音频输入
  - keyboard：用于模拟键盘按键

可以使用以下命令安装所需的库：

```sh
pip install numpy librosa pyaudio keyboard
```

## 使用说明

1. 运行 `main.py` 文件来启动应用程序：

   ```sh
   python main.py
   ```

2. 应用程序界面：
   - **日志窗口**：用于显示程序的运行日志和匹配结果。
   - **阈值设置**：设置音频匹配的特征距离阈值，数值越低，匹配越严格。
   - **检测特定音频信号按键配置**：可以自定义按键，包括抛竿、收杆、绑饵料和悬浮术等。
   - **开始/停止按钮**：点击 "Start" 按钮开始监听音频，点击 "Stop" 停止。

3. **定时操作设置**：
   - 可以设置定时按键的执行时间间隔，支持区间格式，例如 `9-10` 分钟内随机。

## 主要组件和功能

- **FisherMan 类**：实现了整个程序的逻辑，包括 GUI 创建、音频处理、特征比较和按键模拟。
- **音频处理**：使用 `librosa` 进行音频加载和特征提取，计算 MFCC 和 RMS 以进行音频相似度比较。
- **键盘操作**：通过 `keyboard` 模块模拟按键响应，以实现自动化操作。
- **实时监听**：使用 `pyaudio` 实时采集音频，并不断与目标音频进行比较。

## 注意事项

- **管理员权限**：`keyboard` 模块在某些操作系统上需要管理员权限才能正常模拟按键。
- **音频设备**：使用 `pyaudio` 需要系统有麦克风设备，如果没有，请确保系统配置合适的输入音频源。

## 许可证

该项目是开源项目，遵循 MIT 许可证。您可以自由使用、修改和分发此代码。